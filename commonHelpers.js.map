{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from 'flatpickr';\n// Додатковий імпорт стилів\nimport 'flatpickr/dist/flatpickr.min.css';\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet userSelectedDate = \"\";\nconst startButton = document.querySelector('[data-start]');\nconst dataTimePicker = document.querySelector(`#datetime-picker`);\nconst dataValueAll = document.querySelectorAll(`.value`);\nstartButton.disabled = true;\nstartButton.addEventListener(`click`, takeonStartTimer);\nconst [days, hours, minutes, seconds] = dataValueAll;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  dateFormat: 'd.m.Y H:i',\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if(selectedDates[0].getTime() > Date.now()) {\n      startButton.disabled = false;\n      startButton.classList.remove(`button-disabled`);\n    }\n    else {\n      startButton.disabled = true;\n      startButton.classList.add(`button-disabled`);\n      iziToast.error ({\n          position: 'topRight',\n          messageColor: 'brown',\n          message: 'Please choose a date in the future',\n          timeout: 3000,\n      })\n    }\n    userSelectedDate = selectedDates[0].getTime();\n  },\n};\nflatpickr(dataTimePicker, options);\nfunction takeonStartTimer () {\n  startButton.disabled = true;\n  dataTimePicker.disabled = true;\n  const interval = setInterval(() => {\n    const dateInterval = userSelectedDate - Date.now();\n    if (dateInterval >= 0) {\n        days.textContent = addLeadingZero(convertMs(dateInterval).days);\n        hours.textContent = addLeadingZero(convertMs(dateInterval).hours);\n        minutes.textContent = addLeadingZero(convertMs(dateInterval).minutes);\n        seconds.textContent = addLeadingZero(convertMs(dateInterval).seconds);\n      } else {\n        days.textContent = '00';\n        hours.textContent = '00';\n        minutes.textContent = '00';\n        seconds.textContent = '00';\n        clearInterval(interval);\n        inputDateRef.disabled = false;\n      }\n  }, 1000);\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  return { days, hours, minutes, seconds };\n}\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, '0');\n}\nconsole.log(convertMs(2000));\nconsole.log(convertMs(140000)); \nconsole.log(convertMs(24140000));"],"names":["userSelectedDate","startButton","dataTimePicker","dataValueAll","takeonStartTimer","days","hours","minutes","seconds","options","selectedDates","iziToast","flatpickr","interval","dateInterval","addLeadingZero","convertMs","ms","value"],"mappings":"gJASA,IAAIA,EAAmB,GACvB,MAAMC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAiB,SAAS,cAAc,kBAAkB,EAC1DC,EAAe,SAAS,iBAAiB,QAAQ,EACvDF,EAAY,SAAW,GACvBA,EAAY,iBAAiB,QAASG,CAAgB,EACtD,KAAM,CAACC,EAAMC,EAAOC,EAASC,CAAO,EAAIL,EAElCM,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,WAAY,YACZ,gBAAiB,EACjB,QAAQC,EAAe,CAClBA,EAAc,CAAC,EAAE,QAAO,EAAK,KAAK,OACnCT,EAAY,SAAW,GACvBA,EAAY,UAAU,OAAO,iBAAiB,IAG9CA,EAAY,SAAW,GACvBA,EAAY,UAAU,IAAI,iBAAiB,EAC3CU,EAAS,MAAO,CACZ,SAAU,WACV,aAAc,QACd,QAAS,qCACT,QAAS,GACnB,CAAO,GAEHX,EAAmBU,EAAc,CAAC,EAAE,QAAO,CAC5C,CACH,EACAE,EAAUV,EAAgBO,CAAO,EACjC,SAASL,GAAoB,CAC3BH,EAAY,SAAW,GACvBC,EAAe,SAAW,GAC1B,MAAMW,EAAW,YAAY,IAAM,CACjC,MAAMC,EAAed,EAAmB,KAAK,IAAG,EAC5Cc,GAAgB,GAChBT,EAAK,YAAcU,EAAeC,EAAUF,CAAY,EAAE,IAAI,EAC9DR,EAAM,YAAcS,EAAeC,EAAUF,CAAY,EAAE,KAAK,EAChEP,EAAQ,YAAcQ,EAAeC,EAAUF,CAAY,EAAE,OAAO,EACpEN,EAAQ,YAAcO,EAAeC,EAAUF,CAAY,EAAE,OAAO,IAEpET,EAAK,YAAc,KACnBC,EAAM,YAAc,KACpBC,EAAQ,YAAc,KACtBC,EAAQ,YAAc,KACtB,cAAcK,CAAQ,EACtB,aAAa,SAAW,GAE7B,EAAE,GAAI,CACT,CAEA,SAASG,EAAUC,EAAI,CAKrB,MAAMZ,EAAO,KAAK,MAAMY,EAAK,KAAG,EAC1BX,EAAQ,KAAK,MAAOW,EAAK,MAAO,IAAI,EACpCV,EAAU,KAAK,MAAQU,EAAK,MAAO,KAAQ,GAAM,EACjDT,EAAU,KAAK,MAASS,EAAK,MAAO,KAAQ,IAAU,GAAM,EAClE,MAAO,CAAE,KAAAZ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CACA,SAASO,EAAeG,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC,CACA,QAAQ,IAAIF,EAAU,GAAI,CAAC,EAC3B,QAAQ,IAAIA,EAAU,IAAM,CAAC,EAC7B,QAAQ,IAAIA,EAAU,MAAQ,CAAC"}